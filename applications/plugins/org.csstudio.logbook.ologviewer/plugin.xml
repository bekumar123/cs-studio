<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension-point id="org.csstudio.logbook.ologtable.columndescription" name="Olog Table Column Description" schema="schema/org.csstudio.logbook.ologtable.columndescription.exsd"/>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="menu:display">
         <command
               commandId="org.csstudio.logbook.ologviewer.openOlog"
               icon="platform:/plugin/org.csstudio.logbook.ui/icons/logbook-16.png"
               label="Open Olog"
               style="push">
         </command>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.ui.popup.any?before=org.csstudio.ui.menu.popup.processvariable">
         <menu
               icon="platform:/plugin/org.csstudio.logbook.ui/icons/logbook-16.png"
               id="org.csstudio.ui.menu.popup.olog"
               label="Olog">
            <visibleWhen>
               <with
                     variable="activeMenuSelection">
                  <iterate>
                     <adapt
                           type="edu.msu.nscl.olog.api.Log">
                     </adapt></iterate>
                  <and>
                     <count
                           value="1">
                     </count>
                  </and>
               </with>
            </visibleWhen>
         </menu>
         <menu
               icon="platform:/plugin/org.csstudio.logbook.ui/icons/logbook-16.png"
               id="org.csstudio.ui.menu.popup.ologproperty"
               label="OlogProperty">
            <visibleWhen>
               <with
                     variable="activeMenuSelection">
                  <iterate>
                     <adapt
                           type="edu.msu.nscl.olog.api.Property">
                     </adapt>
                  </iterate>
                  <and>
                     <count
                           value="1">
                     </count>
                  </and>
               </with>
            </visibleWhen>
         </menu>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="popup:org.csstudio.ui.menu.popup.olog">
         <command
               commandId="org.csstudio.logbook.ologviewer.loginfo"
               icon="platform:/plugin/org.csstudio.logbook.ui/icons/logentry-16.png"
               label="Log Info"
               style="push">
         </command>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="popup:org.csstudio.ui.menu.popup.ologproperty">
         <command
               commandId="org.csstudio.logbook.ologviewer.loginfo"
               icon="platform:/plugin/org.csstudio.logbook.ui/icons/logentry-16.png"
               label="Log Info"
               style="push">
         </command>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.editors">
      <editor
            class="org.csstudio.logbook.ologviewer.OlogEditor"
            default="false"
            icon="platform:/plugin/org.csstudio.logbook.ui/icons/logbook-16.png"
            id="org.csstudio.logbook.ologviewer.ologeditor"
            name="Olog">
      </editor>
   </extension>
   <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            class="org.csstudio.logbook.ologviewer.OlogPerspective"
            icon="platform:/plugin/org.csstudio.logbook.ui/icons/logbook-16.png"
            id="org.csstudio.logbook.ologviewer.ologperspective"
            name="Olog Perpective">
      </perspective>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            defaultHandler="org.csstudio.logbook.ologviewer.OpenOlog"
            id="org.csstudio.logbook.ologviewer.openOlog"
            name="Open Olog">
      </command>
      <command
            defaultHandler="org.csstudio.logbook.ologviewer.LogInfoHandler"
            id="org.csstudio.logbook.ologviewer.loginfo"
            name="Log Info">
      </command>
   </extension>
   <extension
         point="org.csstudio.logbook.ologtable.columndescription">
      <ologcolumndescription
            cellLabelProvider="org.csstudio.logbook.ologviewer.OwnerCellLabelProvider"
            text="Owner"
            tooltip="Owner"
            weight="10">
      </ologcolumndescription>
      <ologcolumndescription
            cellLabelProvider="org.csstudio.logbook.ologviewer.TagCellLabelProvider"
            text="Taga"
            tooltip="Taga"
            weight="5">
      </ologcolumndescription>
   </extension>

</plugin>
