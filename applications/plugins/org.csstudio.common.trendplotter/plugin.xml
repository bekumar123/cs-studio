<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.core.runtime.adapters">
      <factory
            adaptableType="org.csstudio.common.trendplotter.model.PVItem"
            class="org.csstudio.common.trendplotter.AdapterFactory">
         <adapter
               type="java.lang.String">
         </adapter>
         <adapter
               type="org.csstudio.csdata.ProcessVariable">
         </adapter>
         <adapter
               type="org.csstudio.common.trendplotter.ProcessVariableWithSamples">
         </adapter>
      </factory>
      <factory
            adaptableType="org.csstudio.common.trendplotter.model.ChannelInfo"
            class="org.csstudio.common.trendplotter.AdapterFactory">
         <adapter
               type="java.lang.String">
         </adapter>
         <adapter
               type="org.csstudio.csdata.ProcessVariable">
         </adapter>
      </factory>
   </extension>
   <extension
         point="org.eclipse.help.toc">
      <toc
            file="toc.xml"
            primary="true">
      </toc>
   </extension>
   <extension
         point="org.eclipse.ui.editors">
      <editor
            class="org.csstudio.common.trendplotter.editor.DataBrowserEditor"
            default="true"
            extensions="plt,css-plt"
            icon="icons/databrowser.png"
            id="org.csstudio.trends.databrowser.ploteditor.PlotEditor"
            name="%TrendPlotter">
      </editor>
   </extension>
   <extension
         point="org.eclipse.ui.views">
      <category
            id="org.csstudio"
            name="%CSS">
      </category>
      <view
            category="org.csstudio"
            class="org.csstudio.common.trendplotter.search.SearchView"
            icon="icons/search.gif"
            id="org.csstudio.trends.databrowser.archiveview.ArchiveView"
            name="%SearchView"
            restorable="true">
      </view>
      <view
            category="org.csstudio"
            class="org.csstudio.common.trendplotter.sampleview.SampleView"
            icon="icons/inspect.gif"
            id="org.csstudio.trends.databrowser.sample_view"
            name="%SampleView"
            restorable="true">
      </view>
      <view
            category="org.csstudio"
            class="org.csstudio.common.trendplotter.exportview.ExportView"
            icon="icons/export.png"
            id="org.csstudio.trends.databrowser.exportview.ExportView"
            name="%ExportView"
            restorable="true">
      </view>
      <view
            category="org.csstudio"
            class="org.csstudio.common.trendplotter.waveformview.WaveformView"
            icon="icons/wavesample.gif"
            id="org.csstudio.trends.databrowser.waveformview.WaveformView"
            name="%WaveformView"
            restorable="true">
      </view>
   </extension>
   <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            class="org.csstudio.common.trendplotter.Perspective"
            icon="icons/databrowser.png"
            id="org.csstudio.trends.databrowser.Perspective"
            name="%TrendPlotter">
      </perspective>
   </extension>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            category="org.csstudio.platform.ui.css.applications.trends"
            class="org.csstudio.common.trendplotter.preferences.PreferencePage"
            id="org.csstudio.trends.databrowser.preferences"
            name="%TrendPlotter">
      </page>
   </extension>
   <extension
         point="org.eclipse.ui.cheatsheets.cheatSheetContent">
      <category
            id="org.csstudio"
            name="CSS">
      </category>
      <cheatsheet
            category="org.csstudio"
            composite="false"
            contentFile="cheatsheets/reset.xml"
            id="org.csstudio.trends.databrowser2.reset"
            name="Reset TrendPlotter Perspective">
      </cheatsheet>
      <cheatsheet
            category="org.csstudio"
            composite="false"
            contentFile="cheatsheets/plot.xml"
            id="org.csstudio.trends.databrowser2.plot"
            name="Plot Archived Data">
      </cheatsheet>
      <cheatsheet
            category="org.csstudio"
            composite="false"
            contentFile="cheatsheets/archives.xml"
            id="org.csstudio.trends.databrowser2.archives"
            name="Change TrendPlotter Archive Data Sources">
      </cheatsheet>
   </extension>
   <extension
         point="org.eclipse.ui.intro.configExtension">
      <configExtension
            content="intro/firststeps.xml"
            configId="org.eclipse.ui.intro.universalConfig">
      </configExtension>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            defaultHandler="org.csstudio.common.trendplotter.NewTrendHandler"
            id="org.csstudio.common.trendplotter.newtrend"
            name="New Trend">
      </command>
       <command
            defaultHandler="org.csstudio.common.trendplotter.OpenTrendPopup"
            id="org.csstudio.common.trendplotter.OpenTrendPopup"
            name="Trendplotter">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
               <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.ui.popup.any?after=additions">
         <menu
               icon="platform:/plugin/org.csstudio.csdata/icons/processVariable.png"
               id="org.csstudio.common.trendplotter.popup.processvariablewithsamples"
               label="%PVSampleMenu">
            <visibleWhen>
               <with variable="activeMenuSelection">
                  <iterate>
                     <adapt type="org.csstudio.common.trendplotter.ProcessVariableWithSamples"/>
                  </iterate>
                  <and>
                     <count value="+"/>
                  </and>
               </with>
            </visibleWhen>
         </menu>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="popup:org.csstudio.ui.menu.popup.processvariable">
         <command
               commandId="org.csstudio.common.trendplotter.OpenTrendPopup"
               icon="icons/new_databrowser.png"
               label="%TrendPlotter"
               style="push"
               tooltip="Trend Plotter">
         </command>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="menu:trends">
         <command
               commandId="org.csstudio.common.trendplotter.newtrend"
               icon="icons/new_databrowser.png"
               label="%TrendPlotter"
               style="push"
               tooltip="Trend Plotter">
         </command>
      </menuContribution>
   </extension>
      <extension
         point="org.csstudio.openfile.openDisplay">
      <openDisplay
            class="org.csstudio.common.trendplotter.OpenDisplayFile"
            file_extension="plt,css-plt">
      </openDisplay>
   </extension>
</plugin>
