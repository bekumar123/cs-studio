<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_23) on Thu Dec 15 15:57:45 EST 2011 -->
<TITLE>
FileUtil
</TITLE>

<META NAME="date" CONTENT="2011-12-15">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="FileUtil";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.csstudio.opibuilder.scriptUtil</FONT>
<BR>
Class FileUtil</H2>
<PRE>
java.lang.Object
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>FileUtil</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
The Utility class to help file operating.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Xihui Chen</DD>
</DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="#FileUtil()">FileUtil</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.io.InputStream</CODE></FONT></TD>
<TD><CODE><B><A HREF="#getInputStreamFromFile(java.lang.String, org.csstudio.opibuilder.editparts.AbstractBaseEditPart)">getInputStreamFromFile</A></B>(java.lang.String&nbsp;filePath,
                       org.csstudio.opibuilder.editparts.AbstractBaseEditPart&nbsp;widget)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return an <CODE>InputStream</CODE> of the file on the specified path.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.jdom.Element</CODE></FONT></TD>
<TD><CODE><B><A HREF="#loadXMLFile(java.lang.String)">loadXMLFile</A></B>(java.lang.String&nbsp;filePath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Load the root element of an XML file.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.jdom.Element</CODE></FONT></TD>
<TD><CODE><B><A HREF="#loadXMLFile(java.lang.String, org.csstudio.opibuilder.editparts.AbstractBaseEditPart)">loadXMLFile</A></B>(java.lang.String&nbsp;filePath,
            org.csstudio.opibuilder.editparts.AbstractBaseEditPart&nbsp;widget)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Load the root element of an XML file.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="#openFile(java.lang.String, org.csstudio.opibuilder.editparts.AbstractBaseEditPart)">openFile</A></B>(java.lang.String&nbsp;filePath,
         org.csstudio.opibuilder.editparts.AbstractBaseEditPart&nbsp;widget)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Open a file in default editor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="#openFileDialog(boolean)">openFileDialog</A></B>(boolean&nbsp;inWorkspace)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Open a file select dialog.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="#openWebPage(java.lang.String)">openWebPage</A></B>(java.lang.String&nbsp;link)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Open a web page.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="#playWavFile(java.lang.String, org.csstudio.opibuilder.editparts.AbstractBaseEditPart)">playWavFile</A></B>(java.lang.String&nbsp;filePath,
            org.csstudio.opibuilder.editparts.AbstractBaseEditPart&nbsp;widget)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Play a .wav file.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="#readTextFile(java.lang.String)">readTextFile</A></B>(java.lang.String&nbsp;filePath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Read a text file.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="#readTextFile(java.lang.String, org.csstudio.opibuilder.editparts.AbstractBaseEditPart)">readTextFile</A></B>(java.lang.String&nbsp;filePath,
             org.csstudio.opibuilder.editparts.AbstractBaseEditPart&nbsp;widget)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Read a text file.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="#writeTextFile(java.lang.String, boolean, org.csstudio.opibuilder.editparts.AbstractBaseEditPart, java.lang.String, boolean)">writeTextFile</A></B>(java.lang.String&nbsp;filePath,
              boolean&nbsp;inWorkspace,
              org.csstudio.opibuilder.editparts.AbstractBaseEditPart&nbsp;widget,
              java.lang.String&nbsp;text,
              boolean&nbsp;append)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Write a text file.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="#writeTextFile(java.lang.String, boolean, java.lang.String, boolean)">writeTextFile</A></B>(java.lang.String&nbsp;filePath,
              boolean&nbsp;inWorkspace,
              java.lang.String&nbsp;text,
              boolean&nbsp;append)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Write a text file.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="FileUtil()"><!-- --></A><H3>
FileUtil</H3>
<PRE>
public <B>FileUtil</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="loadXMLFile(java.lang.String)"><!-- --></A><H3>
loadXMLFile</H3>
<PRE>
public static org.jdom.Element <B>loadXMLFile</B>(java.lang.String&nbsp;filePath)
                                    throws java.lang.Exception</PRE>
<DL>
<DD>Load the root element of an XML file. The element is a JDOM Element.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>filePath</CODE> - path of the file. It must be an absolute path which can be either<br>
 a workspace path such as <code>/BOY Examples/Scripts/myfile.xml</code><br> a local file
 system path such as <code>C:\myfile.xml</code><br> or an URL path such as 
 <code>http://mysite.com/myfile.xml</code>.      *
<DT><B>Returns:</B><DD>root element of the XML file.
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE> - if the file does not exist or is not a correct XML file.</DL>
</DD>
</DL>
<HR>

<A NAME="loadXMLFile(java.lang.String, org.csstudio.opibuilder.editparts.AbstractBaseEditPart)"><!-- --></A><H3>
loadXMLFile</H3>
<PRE>
public static org.jdom.Element <B>loadXMLFile</B>(java.lang.String&nbsp;filePath,
                                           org.csstudio.opibuilder.editparts.AbstractBaseEditPart&nbsp;widget)
                                    throws java.lang.Exception</PRE>
<DL>
<DD>Load the root element of an XML file. The element is a JDOM Element.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>filePath</CODE> - path of the file. It can be an absolute path or a relative path to 
 the OPI that contains the specified widget. If it is an absolute path, it can be either<br>
 a workspace path such as <code>/BOY Examples/Scripts/myfile.xml</code><br> a local file
 system path such as <code>C:\myfile.xml</code><br> or an URL path such as 
 <code>http://mysite.com/myfile.xml</code>.<DD><CODE>widget</CODE> - a widget in the OPI, which is used to provide relative path reference. It 
 can be null if the path is an absolute path.
<DT><B>Returns:</B><DD>root element of the XML file.
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE> - if the file does not exist or is not a correct XML file.</DL>
</DD>
</DL>
<HR>

<A NAME="getInputStreamFromFile(java.lang.String, org.csstudio.opibuilder.editparts.AbstractBaseEditPart)"><!-- --></A><H3>
getInputStreamFromFile</H3>
<PRE>
public static java.io.InputStream <B>getInputStreamFromFile</B>(java.lang.String&nbsp;filePath,
                                                         org.csstudio.opibuilder.editparts.AbstractBaseEditPart&nbsp;widget)
                                                  throws java.lang.Exception</PRE>
<DL>
<DD>Return an <CODE>InputStream</CODE> of the file on the specified path.
 The client is responsible for closing the stream when finished.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>filePath</CODE> - path of the file. It can be an absolute path or a relative path to 
 the OPI that contains the specified widget. If it is an absolute path, it can be either<br>
 a workspace path such as <code>/BOY Examples/Scripts/myfile.xml</code><br> a local file
 system path such as <code>C:\myfile.xml</code><br> or an URL path such as 
 <code>http://mysite.com/myfile.xml</code>.<DD><CODE>widget</CODE> - a widget in the OPI, which is used to provide relative path reference. It 
 can be null if the path is an absolute path.
<DT><B>Returns:</B><DD>java.io.InputStream of the file.
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE> - if the file does not exist.</DL>
</DD>
</DL>
<HR>

<A NAME="readTextFile(java.lang.String)"><!-- --></A><H3>
readTextFile</H3>
<PRE>
public static java.lang.String <B>readTextFile</B>(java.lang.String&nbsp;filePath)
                                     throws java.lang.Exception</PRE>
<DL>
<DD>Read a text file.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>filePath</CODE> - path of the file. It must be an absolute path which can be either<br>
 a workspace path such as <code>/BOY Examples/Scripts/myfile.xml</code><br> a local file
 system path such as <code>C:\myfile.xml</code><br> or an URL path such as 
 <code>http://mysite.com/myfile.xml</code>.
<DT><B>Returns:</B><DD>a string of the text.
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE> - if the file does not exist or is not a correct text file.</DL>
</DD>
</DL>
<HR>

<A NAME="readTextFile(java.lang.String, org.csstudio.opibuilder.editparts.AbstractBaseEditPart)"><!-- --></A><H3>
readTextFile</H3>
<PRE>
public static java.lang.String <B>readTextFile</B>(java.lang.String&nbsp;filePath,
                                            org.csstudio.opibuilder.editparts.AbstractBaseEditPart&nbsp;widget)
                                     throws java.lang.Exception</PRE>
<DL>
<DD>Read a text file.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>filePath</CODE> - path of the file. It can be an absolute path or a relative path to 
 the OPI that contains the specified widget. If it is an absolute path, it can be either<br>
 a workspace path such as <code>/BOY Examples/Scripts/myfile.xml</code><br> a local file
 system path such as <code>C:\myfile.xml</code><br> or an URL path such as 
 <code>http://mysite.com/myfile.xml</code>.<DD><CODE>widget</CODE> - a widget in the OPI, which is used to provide relative path reference. It 
 can be null if the path is an absolute path.
<DT><B>Returns:</B><DD>a string of the text.
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE> - if the file does not exist or is not a correct text file.</DL>
</DD>
</DL>
<HR>

<A NAME="writeTextFile(java.lang.String, boolean, java.lang.String, boolean)"><!-- --></A><H3>
writeTextFile</H3>
<PRE>
public static void <B>writeTextFile</B>(java.lang.String&nbsp;filePath,
                                 boolean&nbsp;inWorkspace,
                                 java.lang.String&nbsp;text,
                                 boolean&nbsp;append)
                          throws java.lang.Exception</PRE>
<DL>
<DD>Write a text file.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>filePath</CODE> - path of the file. It must be an absolute path which can be either<br>
 a workspace path such as <code>/BOY Examples/Scripts/myfile.xml</code><br> or a local file
 system path such as <code>C:\myfile.xml</code>.<DD><CODE>inWorkspace</CODE> - true if the file path is a workspace file path. Otherwise, it will be 
 recognized as a local file system file.<DD><CODE>text</CODE> - the text to be written to the file.<DD><CODE>append</CODE> - true if the text should be appended to the end of the file.
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE> - if error happens.</DL>
</DD>
</DL>
<HR>

<A NAME="writeTextFile(java.lang.String, boolean, org.csstudio.opibuilder.editparts.AbstractBaseEditPart, java.lang.String, boolean)"><!-- --></A><H3>
writeTextFile</H3>
<PRE>
public static void <B>writeTextFile</B>(java.lang.String&nbsp;filePath,
                                 boolean&nbsp;inWorkspace,
                                 org.csstudio.opibuilder.editparts.AbstractBaseEditPart&nbsp;widget,
                                 java.lang.String&nbsp;text,
                                 boolean&nbsp;append)
                          throws java.lang.Exception</PRE>
<DL>
<DD>Write a text file.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>filePath</CODE> - path of the file. It can be an absolute path or a relative path to 
 the OPI that contains the specified widget. If it is an absolute path, it can be either<br>
 a workspace path such as <code>/BOY Examples/Scripts/myfile.xml</code><br> a local file
 system path such as <code>C:\myfile.xml</code><br> or an URL path such as 
 <code>http://mysite.com/myfile.xml</code>.<DD><CODE>inWorkspace</CODE> - true if the file path is a workspace file path. Otherwise, it will be 
 recognized as a local file system file.<DD><CODE>widget</CODE> - a widget in the OPI, which is used to provide relative path reference. It 
 can be null if the path is an absolute path.<DD><CODE>text</CODE> - the text to be written to the file.<DD><CODE>append</CODE> - true if the text should be appended to the end of the file.
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE> - if error happens.</DL>
</DD>
</DL>
<HR>

<A NAME="openFile(java.lang.String, org.csstudio.opibuilder.editparts.AbstractBaseEditPart)"><!-- --></A><H3>
openFile</H3>
<PRE>
public static void <B>openFile</B>(java.lang.String&nbsp;filePath,
                            org.csstudio.opibuilder.editparts.AbstractBaseEditPart&nbsp;widget)</PRE>
<DL>
<DD>Open a file in default editor. If no such an editor for the type of file, OS 
 default program will be called to open this file.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>filePath</CODE> - path of the file. It can be an absolute path or a relative path to 
 the OPI that contains the specified widget. If it is an absolute path, it can be either
 a workspace path such as <br><code>/BOY Examples/Scripts/myfile.txt</code><br> or a local file
 system path such as <code>C:\myfile.txt</code>.<DD><CODE>widget</CODE> - a widget in the OPI, which is used to provide relative path reference. It 
 can be null if the path is an absolute path.</DL>
</DD>
</DL>
<HR>

<A NAME="openWebPage(java.lang.String)"><!-- --></A><H3>
openWebPage</H3>
<PRE>
public static void <B>openWebPage</B>(java.lang.String&nbsp;link)</PRE>
<DL>
<DD>Open a web page.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>link</CODE> - link to the web page. It can be a link started with http://, https:// or file://.</DL>
</DD>
</DL>
<HR>

<A NAME="playWavFile(java.lang.String, org.csstudio.opibuilder.editparts.AbstractBaseEditPart)"><!-- --></A><H3>
playWavFile</H3>
<PRE>
public static void <B>playWavFile</B>(java.lang.String&nbsp;filePath,
                               org.csstudio.opibuilder.editparts.AbstractBaseEditPart&nbsp;widget)</PRE>
<DL>
<DD>Play a .wav file.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>filePath</CODE> - path of the file. It can be an absolute path or a relative path to 
 the OPI that contains the specified widget. If it is an absolute path, it can be either<br>
 a workspace path such as <code>/BOY Examples/Scripts/myfile.xml</code><br> a local file
 system path such as <code>C:\myfile.xml</code><br> or an URL path such as 
 <code>http://mysite.com/myfile.xml</code>.<DD><CODE>widget</CODE> - a widget in the OPI, which is used to provide relative path reference. It 
 can be null if the path is an absolute path.</DL>
</DD>
</DL>
<HR>

<A NAME="openFileDialog(boolean)"><!-- --></A><H3>
openFileDialog</H3>
<PRE>
public static java.lang.String <B>openFileDialog</B>(boolean&nbsp;inWorkspace)</PRE>
<DL>
<DD>Open a file select dialog.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>inWorkspace</CODE> - true if it is a workspace file dialog; Otherwise, it is a local
 file system file dialog.
<DT><B>Returns:</B><DD>the full file path. Or null if it is canceled.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<HR>

</BODY>
</HTML>
